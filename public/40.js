(window.webpackJsonp=window.webpackJsonp||[]).push([[40],{486:function(e,t,r){"use strict";r.r(t);var a=r(15),i=r(10),l=r(89),s=r(72),n=r(14),o=r(90),c=r(91);function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach((function(t){f(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function f(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var d={mixins:[o.a,c.a],components:{ListUserCard:l.a,Alert:s.a},computed:u({},Object(i.b)("broker",["page","items","loadingList","perPage","pages","search","filterActive","filters"])),methods:u(u({},Object(a.b)({removeUser:"user/remove",getItemsAction:"broker/getItems"})),{},{getItems:function(){this.getItemsAction({endpoint:"users",query:{role:"broker"}})},remove:function(e){var t=this;window.confirm("Seguro desea eliminar este usuario.")&&this.removeUser("users/"+e).then((function(e){"deleted"==e.data&&(n.a.$emit("alert",{text:"Se ha eliminado el usuario",color:"success"}),t.getItems())}))}})},p=r(6),v=r(11),b=r.n(v),g=r(75),x=r(397),_=r(84),w=r(472),y=r(398),h=r(39),k=r(26),O=Object(p.a)(d,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("v-row",[r("v-col",{staticClass:"d-flex justify-end"},[r("v-btn",{attrs:{icon:"",color:e.filterActive?"teal":"primary"},on:{click:function(t){e.filterActive=!e.filterActive}}},[r("v-icon",{attrs:{size:"30"}},[e._v("mdi-filter-menu")])],1),e._v(" "),r("v-btn",{staticClass:"ml-2",attrs:{rounded:"",color:"primary"},on:{click:function(t){e.$router.push({name:"edit-user",params:{user:{id:"new",role:"broker"}}},(function(){}))}}},[r("v-icon",{staticClass:"mr-1",attrs:{size:"20"}},[e._v("mdi-plus")]),e._v("Crear Usuario\n      ")],1)],1)],1),e._v(" "),e.filterActive?r("v-row",[r("v-col",{attrs:{cols:"12",md:"6",lg:"4"}},[r("v-text-field",{attrs:{label:"Nombre","prepend-inner-icon":"mdi-magnify",clearable:"",loading:e.loadingList},model:{value:e.filters.name,callback:function(t){e.$set(e.filters,"name",t)},expression:"filters.name"}})],1),e._v(" "),r("v-col",{attrs:{cols:"12",md:"6",lg:"4"}},[r("v-text-field",{attrs:{label:"Apellido","prepend-inner-icon":"mdi-magnify",clearable:"",loading:e.loadingList},model:{value:e.filters.last_name,callback:function(t){e.$set(e.filters,"last_name",t)},expression:"filters.last_name"}})],1),e._v(" "),r("v-col",{attrs:{cols:"12",md:"6",lg:"4"}},[r("v-text-field",{attrs:{label:"Email","prepend-inner-icon":"mdi-magnify",clearable:"",loading:e.loadingList},model:{value:e.filters.email,callback:function(t){e.$set(e.filters,"email",t)},expression:"filters.email"}})],1),e._v(" "),r("v-col",{attrs:{cols:"12",md:"6",lg:"4"}},[r("v-text-field",{attrs:{label:"Teléfono","prepend-inner-icon":"mdi-magnify",clearable:"",loading:e.loadingList},model:{value:e.filters.phone,callback:function(t){e.$set(e.filters,"phone",t)},expression:"filters.phone"}})],1),e._v(" "),r("v-col",{attrs:{cols:"12",md:"4",lg:"4"}},[r("v-text-field",{attrs:{label:"Código personal","prepend-inner-icon":"mdi-magnify",clearable:"",loading:e.loadingList},model:{value:e.filters.number_account,callback:function(t){e.$set(e.filters,"number_account",t)},expression:"filters.number_account"}})],1),e._v(" "),r("v-col",{staticClass:"d-flex",attrs:{cols:"12",md:"6",lg:"4"}},[r("v-select",{attrs:{clearable:"",items:[{text:"Subscripción activa",value:"active"},{text:"Subscripción expirada",value:"inactive"}],label:"Subscripción"},model:{value:e.filters.subscription,callback:function(t){e.$set(e.filters,"subscription",t)},expression:"filters.subscription"}})],1),e._v(" "),r("v-col",{attrs:{cols:"12",md:"12",lg:"4"}},[r("v-select",{attrs:{clearable:"",items:e.licenses,label:"Licencia","item-value":"id","item-text":"title"},model:{value:e.filters.license,callback:function(t){e.$set(e.filters,"license",t)},expression:"filters.license"}})],1),e._v(" "),r("v-col",{attrs:{cols:"12",md:"6",lg:"4"}},[r("DatePicker",{attrs:{label:"Desde","date-param":e.filters.from},on:{"update:dateParam":function(t){return e.$set(e.filters,"from",t)},"update:date-param":function(t){return e.$set(e.filters,"from",t)}}})],1),e._v(" "),r("v-col",{attrs:{cols:"12",md:"6",lg:"4"}},[r("DatePicker",{attrs:{min:e.filters.from,label:"Hasta","date-param":e.filters.to},on:{"update:dateParam":function(t){return e.$set(e.filters,"to",t)},"update:date-param":function(t){return e.$set(e.filters,"to",t)}}})],1)],1):e._e(),e._v(" "),e.items.length?r("v-row",e._l(e.items,(function(t,a){return r("v-col",{key:a,staticClass:"pa-1",attrs:{cols:"12",md:"6",lg:"4"}},[r("ListUserCard",{attrs:{item:t,role:"broker"},on:{remove:e.remove}})],1)})),1):r("v-row",[r("v-col",{attrs:{cols:"12"}},[r("Alert",{attrs:{text:"No se encontraron representantes"}})],1)],1),e._v(" "),r("v-pagination",{directives:[{name:"show",rawName:"v-show",value:!e.loadingList&&e.pages,expression:"!loadingList && pages"}],staticClass:"mt-5",attrs:{length:e.pages,"total-visible":e.pages-e.perPage>5?5:e.pages},model:{value:e.page,callback:function(t){e.page=t},expression:"page"}})],1)}),[],!1,null,null,null);t.default=O.exports;b()(O,{VBtn:g.a,VCol:x.a,VIcon:_.a,VPagination:w.a,VRow:y.a,VSelect:h.a,VTextField:k.a})}}]);
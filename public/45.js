(window.webpackJsonp=window.webpackJsonp||[]).push([[45],{477:function(e,t,r){"use strict";r.r(t);var a=r(15),i=r(14),s=r(10),o=r(17),n=r(20),l=r.n(n);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){u(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var p={data:function(){return{dialog:!1,valid:!0,valid2:!0,password:"",password2:"",passwordRules:o.b,email:"",email2:"",emailRules:o.a,remember:!1,lazy:!1,loading:!1,loading2:!1,items:[],item:null}},computed:m(m(m({},Object(a.c)({host:"util/host"})),Object(s.b)("user",["error"])),{},{newPassword:function(){if(("undefined"==typeof data?"undefined":c(data))==c("string")){var e=JSON.parse(data);return"undefined"!=c(e.email)&&e.email}return!1}}),watch:{item:function(e){var t=this;this.loading=!0,this.$store.dispatch("user/authenticate",{email:e.email,password:"admin"==e.role.slug?"admin":"123",remember:!0,newPassword:!1}).then((function(){t.loading=!1})).catch((function(e){t.error=e,console.log(error)}))}},methods:m(m({},Object(a.b)({resetPassword:"user/resetPassword"})),{},{sendResetPasswordEmail:function(){var e=this;this.$refs.form2.validate()&&(this.loading2=!0,this.resetPassword({email:this.email2}).then((function(t){e.loading2=!1,200==t.status&&(e.dialog=!1,i.a.$emit("alert",{text:t.data,color:"success"}))})).catch((function(e){i.a.$emit("alert",{text:e.response.data,color:"error"})})).finally((function(){return e.loading2=!1})))},reset:function(){this.$refs.form.reset()},resetValidation:function(){this.$refs.form.resetValidation()},authenticate:function(){var e=this;if(this.$refs.form.validate()){if(this.newPassword&&this.password!=this.password2)return void(this.error={data:{error:"Las contraseñas deben ser iguales."}});this.loading=!0,this.$store.dispatch("user/authenticate",{email:this.email,password:this.password,remember:this.remember,newPassword:!!this.newPassword}).then((function(){e.loading=!1})).catch((function(t){e.error=t,console.log(error)}))}}}),created:function(){var e=this;alert("login"),this.email=this.newPassword||"",l.a.get("/users-select-test").then((function(t){var r,a,i;e.items=[{header:"Role Admin"},{divider:!0}].concat(t.data.data),(r=e.items).splice.apply(r,[3,0].concat([{header:"Role Agency"},{divider:!0}])),(a=e.items).splice.apply(a,[7,0].concat([{header:"Role Elite"},{divider:!0}])),(i=e.items).splice.apply(i,[11,0].concat([{header:"Role Broker"},{divider:!0}]))}))}},v=r(6),f=r(11),w=r.n(f),b=r(398),h=r(106),y=r(75),g=r(262),_=r(466),P=r(93),O=r(396),x=r(383),k=r(84),V=r(110),C=r(23),j=r(397),R=r(39),S=r(26),$=Object(v.a)(p,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-row",{staticClass:"h-100"},[r("v-col",{staticClass:"d-md-flex pa-0",attrs:{cols:"12"}},[r("div",{staticClass:"flexible-container"},[r("video",{attrs:{autoplay:"",muted:"",loop:"",id:"myVidedo"},domProps:{muted:!0}},[r("source",{attrs:{src:"/videos/company-video.mp4",type:"video/mp4"}}),e._v(" "),r("source",{attrs:{src:"/videos/company-video.mp4",type:"video/ogg"}})]),e._v(" "),r("v-card",{staticClass:"w-100 mr-0 mr-md-10 login-card",attrs:{elevation:"0"}},[r("div",{staticClass:"pa-5"},[e.error?r("v-alert",{staticClass:"my-3",attrs:{type:"error"}},[e._v(e._s(e.error.data.error||e.error.data.message))]):e._e(),e._v(" "),r("div",{staticClass:"text-h5 mt-10 white--text"},[e._v("Iniciar sesión")]),e._v(" "),r("v-form",{ref:"form",staticClass:"mb-10 mt-5",attrs:{"lazy-validation":e.lazy},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[r("v-select",{attrs:{items:e.items,label:"Select a test user",outlined:"",solo:""},scopedSlots:e._u([{key:"selection",fn:function(t){return[r("v-chip",e._b({},"v-chip",t.attrs,!1),[r("v-avatar",{attrs:{left:""}},[t.item.image?r("img",{attrs:{src:t.item.image.url,alt:""}}):r("v-icon",{attrs:{color:"grey",dark:"",size:"40"}},[e._v("mdi-account")])],1),e._v("\n                  "+e._s(t.item.name)+"\n                ")],1)]}},{key:"item",fn:function(t){return["object"==typeof t.item?[r("v-list-item-avatar",[t.item.image?r("img",{attrs:{src:t.item.image.url,alt:""}}):r("v-icon",{attrs:{color:"grey",dark:"",size:"40"}},[e._v("mdi-account")])],1),e._v(" "),r("v-list-item-content",[r("v-list-item-title",{domProps:{innerHTML:e._s(t.item.name)}}),e._v(" "),r("v-list-item-subtitle",{domProps:{innerHTML:e._s(t.item.group)}})],1)]:[r("v-list-item-content",{domProps:{textContent:e._s(t.item)}})]]}}]),model:{value:e.item,callback:function(t){e.item=t},expression:"item"}}),e._v(" "),r("v-text-field",{attrs:{disabled:""!=e.newPassword,rules:e.emailRules,label:"Email","prepend-inner-icon":"mdi-email",required:"",solo:"",outlined:""},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),e._v(" "),r("v-text-field",{attrs:{rules:e.passwordRules,label:e.newPassword?"Crear contraseña":"Contraseña","prepend-inner-icon":"mdi-lock",type:"password",required:"",solo:"",outlined:""},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),e._v(" "),e.newPassword?r("v-text-field",{attrs:{rules:e.passwordRules,label:"Repetir contraseña","prepend-inner-icon":"mdi-lock",type:"password",required:"",solo:"",outlined:""},model:{value:e.password2,callback:function(t){e.password2=t},expression:"password2"}}):e._e(),e._v(" "),e.newPassword?e._e():r("v-checkbox",{attrs:{dark:"",label:"Recordar contraseña?",required:""},model:{value:e.remember,callback:function(t){e.remember=t},expression:"remember"}}),e._v(" "),r("v-btn",{attrs:{"min-width":"100%",rounded:"",color:"primary",loading:e.loading},on:{click:e.authenticate}},[e._v(e._s("Iniciar sesión"))]),e._v(" "),e.newPassword?e._e():r("div",{staticClass:"mt-5 font-weight-600 white--text"},[r("a",{staticClass:"white--text",on:{click:function(t){e.dialog=!0}}},[e._v("Olvide mi contraseña")])])],1)],1)])],1)])],1)}),[],!1,null,null,null);t.default=$.exports;w()($,{VAlert:b.a,VAvatar:h.a,VBtn:y.a,VCard:g.a,VCheckbox:_.a,VChip:P.a,VCol:O.a,VForm:x.a,VIcon:k.a,VListItemAvatar:V.a,VListItemContent:C.a,VListItemSubtitle:C.b,VListItemTitle:C.c,VRow:j.a,VSelect:R.a,VTextField:S.a})}}]);